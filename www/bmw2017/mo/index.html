<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,minimum-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="css/bmw_m.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="js/wxmoment.min.js"></script>
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/global.js"></script>
<script type="text/javascript" src="js/bmw_m1.js"></script>
<script type="text/javascript" src="js/layui/layui.all.js"></script>
<script type="text/javascript" src="js/iscroll.js"></script>
<title>BMW</title>
</head>
<script type="text/javascript">

var myScroll;

function loaded () {
	 
	var single_w = $('#setdata_width .item').eq(0).width();
	var maxwidth = (single_w * $('#setdata_width .item').length) + $('#setdata_width .item').length* 15;
	$('#setdata_width .list').css({width:(maxwidth)+'px'});
	
	myScroll = new IScroll('.shuju_list', { mouseWheel: true, scrollbars: true, click: true });

	myScrol2 = new IScroll('.haibao_list', { scrollX: true, scrollbars: 'custom' });
}

document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);




</script>

<body onload="loaded()">
	
	<div id="main">
		
		<!-- 竖屏提示页面 -->
		<div id="shu_tips">
			<div class="tiao_active"></div>
			<div class="tiao"></div>
		</div>
		<!-- /竖屏提示页面 -->

		<!-- loading -->
		<div id="loading">
			<span class="load_number"></span>
			<img class="an_xl" src="images/mobile/loading/loading.jpg"/>
			<div class="tiao_active"></div>
			<div class="tiao"></div>
		</div>
		<!-- /loading -->
		
		<!-- logo -->
		<div id="logo">
			<img class="log_img" src="images/mobile/global/logo.png"/>

		</div>
		<!-- /logo -->

		<!-- 顶部导航(nav) -->
		<div id="nav">
			<div class="nav_up"></div>
			<div class="nav_link">
				<div class="close"></div>
				<div data="1" class="item_runner item_style item_active"></div>
				<div data="2" class="item_list item_style"></div>
				<div data="3" class="item_testdrive item_style"></div>
			</div>	
		</div>	
		<!-- /顶部导航(nav) -->

		<!-- runner(部分) -->
		<div id="runner_area" class="nav_con">
			
			<!-- 弹出层 -->
			<div class="introduce">
				<div class="close_btn"></div>
			</div>
			<!-- /弹出层 -->

			<!-- kol区域(定时4张kol播放) -->
			<div id="kol_slide">
				<div class="kol_box">
					<div class="kol_img" style="z-index: 1;"><img src="images/mobile/runner/bg1.jpg"></div>
					<div class="kol_img"><img src="images/mobile/runner/bg2.jpg"></div>
					<div class="kol_img"><img src="images/mobile/runner/bg3.jpg"></div>
					<div class="kol_img"><img src="images/mobile/runner/bg4.jpg"></div>
				</div>
				<ul class="spot">
					<li class="act"></li>
					<li></li>
					<li></li>
					<li></li>
				</ul>
				<div class="login_btn"></div>
			</div>
			<!-- /kol区域(定时4张kol播放) -->

			<!-- 注册报名 -->
			<div id="yp" class="register_login">
				<div class="login_box">
					<div class="title"></div>
					<div class="info_box">
						<div class="info_name">
							<input class="i_name n_text info_css" type="text" maxlength="5" name="name">
							<span></span>
						</div>
						<div class="info_phone">
							<input class="i_phone p_text info_css" type="text" maxlength="11" name="name">
							<span class="obtain">获取验证码</span>
						</div>
						<div class="info_code">
							<input class="i_code c_text info_css" type="text" maxlength="4" name="name">
							<span></span>
						</div>
						<input data="0" type="button" value="" class="info_btn" />
					</div>
				</div>

				<div class="app_box">
					<div class="app_t"></div>
					<ul class="app_tab">
						<li data="app1" class="gudong checkbox_app" style="margin-right: 0.317rem;"></li>
						<li data="app2"></li>
						<li data="app3"></li>
						<li data="app4" style="margin-right: 0"></li>
					</ul>
					<input class="user_id user_text" type="text" name="" />
					<div class="agree">
						<div data="0" class="agree_a"></div>
					</div>					
					<input type="button" value="" class="app_btn ">
				</div>

			</div>
			<!-- /注册报名-->

		</div>
		<!-- /runner(部分) -->

		<!-- testdrive(试驾部分) -->
		<div id="testdrive" class="nav_con">
			
			<!-- 试驾开始 -->
			<div class="booking">
				<ul class="booking_list">
					<li></li>
					<li></li>
				</ul>
				<ul class="booking_spot">
					<li class="act"></li>
					<li></li>
				</ul>
				<div class="booking_btn"></div>
			</div>
			<!-- /试驾开始 -->

			<!-- 试驾表单 -->
			<div class="testdrive_from">
				<div class="from_box">
					<div class="entry_title"></div>
					<div class="sex">
						<label>
							<input class="r_input" name="radio" type="radio" value="" />
							<div class="sir_i"></div>
						</label>
						<label>
							<input class="r_input" name="radio" type="radio" value="" />
							<div class="maam_i"></div>
						</label>
					</div>
					<div class="name">
						<input class="xs_input xs_text" type="text" maxlength="5" name="name"/>
						<input class="mz_input mz_text" type="text" maxlength="5" name="name"/>
					</div>
					<div class="phone">
						<input class="phone_input phone_text" type="text" maxlength="11" name="phone"/>
						<span class="phone_ico"></span>
					</div>
					<select name="" class="city city_ico">
						<option value="1">车系</option>
						<option value="2">I3</option>
						<option value="3">I8</option>
					</select>
					<div class="border_city"></div>

					<div class="agree">
						<div data="0" class="agree_a"></div>
					</div>

					<input type="button" value="" class="app_btn" />
				</div>
			</div>
			<!-- /试驾表单 -->

			<!-- 试驾最终页 -->
			<div class="testdrive_lastp">
				<div class="lastp_btn"></div>
			</div>
			<!-- /试驾最终页 -->

		</div>
		<!-- /testdrive(试驾部分) -->


		<!--  list(海报,数据列表) -->
		<div id="list_page" class="nav_con">
			
			<!-- 数据 -->
			<div class="shuju">
				<div class="title"></div>
				<div class="btn"></div>
				<div class="shuju_list">
					<div class="list">
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
						<div class="item">
							<div class="date">2017.11.01</div>
							<div class="km">5.11KM</div>
							<div class="time">01:37:01</div>
						</div>
					</div>
				</div>
			</div>
			<!-- /数据 -->

			<!-- 海报 -->
			<!-- <div id="setdata_width" class="haibao">
				<div class="title"></div>
				<div class="btn"></div>
				<div class="haibao_list">
					<div class="list">
						<div class="item"><img src="images/mobile/list/img1.jpg"></div>
						<div class="item"><img src="images/mobile/list/img1.jpg"></div>
						<div class="item"><img src="images/mobile/list/img1.jpg"></div>
						<div class="item"><img src="images/mobile/list/img1.jpg"></div>
						<div class="item"><img src="images/mobile/list/img1.jpg"></div>
						<div class="item"><img src="images/mobile/list/img1.jpg"></div>
					</div>
				</div>
			</div> -->
			<!-- /海报 -->

		</div>
		<!--  /list(海报,数据列表) -->


		<div class="haibao_img"><img src="images/mobile/list/img1.jpg"></div>

	
	</div>
		
	

	
</body>
</html>

<script>
	//表单交互
	$(function($) {
		var layer = layui.layer;
		var event = 'touchstart';
		var is_agree = false;
		$('.login_btn').on(event,function(e){
			e.preventDefault();
			$('#kol_slide').hide();
			$('.register_login').show();
		});


		//验证手机(当手机输入框失去焦点:取值去验证是否注册)
		$('.i_phone').focusout(function() {
			var val = $(this).val();
			var reg = /^1[0-9]{10}$/; //验证规则

			//添加提示信息
			if(!val || val == ''){
				layer.msg('手机号码不能为空');
				return false;
			}else if(!reg.test(val)){
				layer.msg('请输入正确手机号码');
				return false;
			}else{
				//归叔自己弄
				$.ajax({
				   type: "POST",
				   url: "",
				   data: "",
				   success: function(msg){
						
						//如果没有注册过把昵称选项给显示出来
						$('.info_name').show();
				
				   }
				});
			}

			

		});

		
		//点击获取手机验证码按钮
		var setinterval_obj,
			setinterval_seds=60
			get_code = true;
		$('.obtain').on(event,function(){

			//归叔你这里自己写发送验证码逻辑

			
			//倒计时锁键
			if(get_code){

				get_code = false;
				
				setinterval_obj = setInterval(function(){

					--setinterval_seds;
					//console.log(setinterval_seds);
					$('.obtain').text('验证码('+setinterval_seds+')');
					if(setinterval_seds == 1){
						clearInterval(setinterval_obj);
						setinterval_seds=0;
						$(this).html('获取验证码');

					}
				},1000)

			}
			
			
		});

		
		//点击下一步按钮逻辑
		$('.info_btn').on('click',function(){

			//激活下一步按钮(如果验证码填写正确可以按下一步)
			$('.info_btn').addClass('info_btn_active');

			if($('.info_btn').hasClass('info_btn_active')){

				//如果没注册显示下一步注册信息
				$('.login_box').hide();
				$('.app_box').show();
				
			}else{
				layer.msg('请完善信息');
			}

			
			
			
			
			
		});

		//点击协议按钮(取协议的值0:未同意,1:同意s)
		var appagree_1 ={dom:'.register_login .agree_a',isclick:0};
		appagree_setval(appagree_1);

		var appagree_2 ={dom:'.testdrive_from .agree_a',isclick:0};
		appagree_setval(appagree_2);



		setInterval(function(){
			//取协议值来激活按钮状态
			if($('.register_login .agree_a').attr('data') == 1){
				$('.register_login .app_btn').addClass('app_btn_active');
			}else{
				$('.register_login .app_btn').removeClass('app_btn_active');
			}

			if($('.testdrive_from .agree_a').attr('data') == 1){
				$('.testdrive_from .app_btn').addClass('app_btn_active');
			}else{
				$('.testdrive_from .app_btn').removeClass('app_btn_active');
			}
		},50);

		

		//点击注册提交按钮
		$('.register_login .app_btn').on(event,function(){
			
			

			//可以提交的状态
			if($('.register_login .app_btn').hasClass('app_btn_active')){
				
				
				//取APP分类(app1:咕咚,app2:悦跑圈,app3:悦动圈,app4:自定义)
				get_apptype = $('.checkbox_app').attr('data');
				

				if(get_apptype == 'app1'){//如果是咕咚需要添加相对的内容
					//取咕咚的值
					var get_gdval = $('.user_id').val();
					if(!get_gdval || get_gdval ==""){

						layer.msg('请填写咕咚的XXX');
						return false;
						
					}else{
						layer.msg(get_gdval);
					}
				}

			}else{
				layer.msg('请授权于宝马');

			}
			
			
			
		});


	});
</script>

